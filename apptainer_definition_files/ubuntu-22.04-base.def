Bootstrap: docker
From: ubuntu:22.04
Stage: build

%setup


%environment
    export LC_ALL=C
    PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/gscratch/srlab/programs"

%post
    apt update && \
    apt install -y --no-install-recommends \
    apt-utils \
    locales \
    debconf \
    libc6 \
    default-jdk \
    software-properties-common \
    build-essential \
    pkg-config \
    libncurses-dev \
    ncurses-dev \
    libncurses5-dev \
    libncursesw5-dev \
    zlib1g-dev \
    libpng-dev \
    dialog \
    sudo \
    nano \
    curl \
    git \
    man \
    unzip \
    bzip2 \
    wget \
    automake \
    gfortran \
    gcc-multilib \
    gobjc++ \
    aptitude \
    xorg-dev \
    texinfo \
    libsparsehash-dev \
    gdebi-core \
    libapparmor1 \
    libedit2 \
    libcurl4-openssl-dev \
    libssl-dev \
    psmisc \
    python-setuptools \
    net-tools \
    sqlite3 \
	infernal \
	liburi-escape-xs-perl \
	emboss \
	liburi-perl \
	ruby \
	hmmer \
	libsm6 \
	libxrender1 \
	libfontconfig1 \
	parallel \
	locales-all \
	libzmq3-dev \
	libpango1.0-dev \
	tree \
    htop \
    python3 \
    libbz2-dev \
    liblzma-dev \
    rsync \
    coreutils \
    tree

    # Make programs directory
    mkdir --parents /gscratch/srlab/programs

NOW=`date`
    echo "export NOW=\"${NOW}\"" >> $APPTAINER_ENVIRONMENT

%runscript
    echo "Container was created $NOW"
    echo "Arguments received: $*"
    exec echo "$@"

%labels
    Author Sam White
    Version v0.0.1

%help
    This is a definition file for a base Ubuntu image. Contains all the
    basic dependencies needed for installing/building other images.